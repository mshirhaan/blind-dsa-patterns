var maxProduct = function(nums) {
    
    if(nums.length == 1) return nums[0];
    
    let max = nums[0];
    let min = nums[0];
    let maxSoFar = max;
    
    for(let i = 1; i < nums.length; i++) {
        let num = nums[i];
        let tempmax = max;

        if(num > num * max && num > num * min ) {
            max = num;
        } else if(num * max > num * min) {
            max = num * max;
        } else {
            max = num * min;
        }
        if(num < num * tempmax && num < num * min ) {
            min = num;
        } else if(num * min < num * tempmax) {
            min = num * min;
        } else {
            min = num * tempmax;
        }
        if(max > maxSoFar) {
            maxSoFar = max;
        }
    }
    
    return maxSoFar;
};
